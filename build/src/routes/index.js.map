{"version":3,"sources":["../../../api/src/routes/index.js"],"names":["router","express","Router","post","UserMiddleware","validateRegister","UserController","registerUser","validateLogin","loginUser","AdminMiddleware","AdminController","registerAdmin","loginAdmin","AuthController","verifyAdminTokenKey","MealMiddleware","validateAddMeal","MealsController","createMeal","get","getAllMeals","put","validateUpdateMeal","updateMeal","delete","deleteMeal","verifyUserTokenKey","MenuControllers","getTodayMenu","getSingleMenu","validateAddMealToMenu","addMealToMenu","OrdersController","getOrders","getOrderItems","OrderMiddleware","validateAddToOrder","addMealToOder","validateOrdeCheckout","checkoutOrder","validateModifyOrder","updateOrder"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,IAAP,CAAY,qBAAZ,EAAmCC,wBAAeC,gBAAlD,EAAoEC,wBAAeC,YAAnF;AAEAP,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAkCC,wBAAeI,aAAjD,EAAgEF,wBAAeG,SAA/E,E,CAEA;;AACAT,MAAM,CAACG,IAAP,CACE,2BADF,EAEEO,yBAAgBL,gBAFlB,EAGEM,yBAAgBC,aAHlB;AAMAZ,MAAM,CAACG,IAAP,CAAY,0BAAZ,EAAwCO,yBAAgBF,aAAxD,EAAuEG,yBAAgBE,UAAvF,E,CAEA;;AACAb,MAAM,CAACG,IAAP,CACE,eADF,EAEEW,cAAeC,mBAFjB,EAGEC,wBAAeC,eAHjB,EAIEC,wBAAgBC,UAJlB;AAMAnB,MAAM,CAACoB,GAAP,CAAW,eAAX,EAA4BN,cAAeC,mBAA3C,EAAgEG,wBAAgBG,WAAhF;AAEArB,MAAM,CAACsB,GAAP,CACE,mBADF,EAEER,cAAeC,mBAFjB,EAGEC,wBAAeO,kBAHjB,EAIEL,wBAAgBM,UAJlB;AAMAxB,MAAM,CAACyB,MAAP,CAAc,mBAAd,EAAmCX,cAAeC,mBAAlD,EAAuEG,wBAAgBQ,UAAvF,E,CAEA;;AAEA1B,MAAM,CAACoB,GAAP,CAAW,eAAX,EAA4BN,cAAea,kBAA3C,EAA+DC,wBAAgBC,YAA/E;AAEA7B,MAAM,CAACoB,GAAP,CAAW,oBAAX,EAAiCN,cAAeC,mBAAhD,EAAqEa,wBAAgBE,aAArF;AAEA9B,MAAM,CAACG,IAAP,CACE,eADF,EAEEW,cAAeC,mBAFjB,EAGEC,wBAAee,qBAHjB,EAIEH,wBAAgBI,aAJlB,E,CAOA;;AAEAhC,MAAM,CAACoB,GAAP,CAAW,gBAAX,EAA6BN,cAAeC,mBAA5C,EAAiEkB,yBAAiBC,SAAlF;AAEAlC,MAAM,CAACoB,GAAP,CACE,qBADF,EAEEN,cAAea,kBAFjB,EAGEM,yBAAiBE,aAHnB;AAMAnC,MAAM,CAACG,IAAP,CACE,gBADF,EAEEW,cAAea,kBAFjB,EAGES,yBAAgBC,kBAHlB,EAIEJ,yBAAiBK,aAJnB;AAMAtC,MAAM,CAACG,IAAP,CACE,kBADF,EAEEW,cAAea,kBAFjB,EAGES,yBAAgBG,oBAHlB,EAIEN,yBAAiBO,aAJnB;AAOAxC,MAAM,CAACsB,GAAP,CACE,oBADF,EAEER,cAAea,kBAFjB,EAGES,yBAAgBK,mBAHlB,EAIER,yBAAiBS,WAJnB;eAOe1C,M","sourcesContent":["import express from 'express';\r\nimport MealsController from '../controllers/mealController';\r\nimport MenuControllers from '../controllers/menuController';\r\nimport OrdersController from '../controllers/orderController';\r\nimport UserController from '../controllers/userController';\r\nimport AdminController from '../controllers/adminController';\r\nimport AuthController from '../controllers/auth';\r\nimport AdminMiddleware from '../policies/adminMiddleware';\r\nimport MealMiddleware from '../policies/mealMiddleware';\r\nimport OrderMiddleware from '../policies/orderMiddleware';\r\nimport UserMiddleware from '../policies/userMiddleware';\r\n\r\n// set router\r\nconst router = express.Router();\r\n\r\n//user auth route\r\nrouter.post('/api/v1/auth/signup', UserMiddleware.validateRegister, UserController.registerUser);\r\n\r\nrouter.post('/api/v1/auth/login', UserMiddleware.validateLogin, UserController.loginUser);\r\n\r\n//admin auth route\r\nrouter.post(\r\n  '/api/v1/auth/admin/signup',\r\n  AdminMiddleware.validateRegister,\r\n  AdminController.registerAdmin\r\n);\r\n\r\nrouter.post('/api/v1/auth/admin/login', AdminMiddleware.validateLogin, AdminController.loginAdmin);\r\n\r\n// meal router\r\nrouter.post(\r\n  '/api/v1/meals',\r\n  AuthController.verifyAdminTokenKey,\r\n  MealMiddleware.validateAddMeal,\r\n  MealsController.createMeal\r\n);\r\nrouter.get('/api/v1/meals', AuthController.verifyAdminTokenKey, MealsController.getAllMeals);\r\n\r\nrouter.put(\r\n  '/api/v1/meals/:id',\r\n  AuthController.verifyAdminTokenKey,\r\n  MealMiddleware.validateUpdateMeal,\r\n  MealsController.updateMeal\r\n);\r\nrouter.delete('/api/v1/meals/:id', AuthController.verifyAdminTokenKey, MealsController.deleteMeal);\r\n\r\n// Menu routes\r\n\r\nrouter.get('/api/v1/menu/', AuthController.verifyUserTokenKey, MenuControllers.getTodayMenu);\r\n\r\nrouter.get('/api/v1/menu/admin', AuthController.verifyAdminTokenKey, MenuControllers.getSingleMenu);\r\n\r\nrouter.post(\r\n  '/api/v1/menu/',\r\n  AuthController.verifyAdminTokenKey,\r\n  MealMiddleware.validateAddMealToMenu,\r\n  MenuControllers.addMealToMenu\r\n);\r\n\r\n//  order routes\r\n\r\nrouter.get('/api/v1/orders', AuthController.verifyAdminTokenKey, OrdersController.getOrders);\r\n\r\nrouter.get(\r\n  '/api/v1/orders/user',\r\n  AuthController.verifyUserTokenKey,\r\n  OrdersController.getOrderItems\r\n);\r\n\r\nrouter.post(\r\n  '/api/v1/orders',\r\n  AuthController.verifyUserTokenKey,\r\n  OrderMiddleware.validateAddToOrder,\r\n  OrdersController.addMealToOder\r\n);\r\nrouter.post(\r\n  '/api/v1/checkout',\r\n  AuthController.verifyUserTokenKey,\r\n  OrderMiddleware.validateOrdeCheckout,\r\n  OrdersController.checkoutOrder\r\n);\r\n\r\nrouter.put(\r\n  '/api/v1/orders/:id',\r\n  AuthController.verifyUserTokenKey,\r\n  OrderMiddleware.validateModifyOrder,\r\n  OrdersController.updateOrder\r\n);\r\n\r\nexport default router;\r\n"],"file":"index.js"}